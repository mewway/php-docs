# 单元测试
单元测试的意义在于测试进行项目测试时，基于代码的角度来说是黑盒测试，测试的粒度是基于请求（uri）的，它无法模拟索引的程序操作，因而如果缺失单元测试 ，代码的附带风险是没有被完全暴露出来的。
单元测试相当于白盒测试，它是对于代码的最小单元的输入输出的期望测试

> [单元测试文档](https://phpunit.readthedocs.io/zh_CN/latest/)

## 单元测试的编写
单元测试要对类的某一个方法或函数的输入输出做期望测试， 因而在基境模拟，和上下文构造、文件IO、数据库模拟上存在一定的难度
项目中单元测试要遵照以下原则进行：
1. 测试方法都以 `test` 开头， 测试类名都以 `Test` 结尾
2. 每个接口都 **应该** 通过HttpTestCase进行自测， 接口测试要模拟参数进行测试，检查是否达到预期
3. 对于服务类和模型类中的复杂方法，**应该** 进行细粒度的单元测试
4. 原则上单元测试 **应该** 是 `无状态` 且 `幂等` 的， 单元测试的结果 **不可以** 依赖人工验证其准确性
5. 单元测试需要根据业务的变更保持更新和维护
6. 覆盖率越高，带来的收益不一定越多
